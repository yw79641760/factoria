# Factoria ç³»ç»Ÿæ¶æ„è®¾è®¡

## æ–‡æ¡£ä¿¡æ¯
- **ç‰ˆæœ¬**: 1.0
- **åˆ›å»ºæ—¥æœŸ**: 2026-02-25
- **ç»´æŠ¤è€…**: Factoria Team
- **çŠ¶æ€**: ğŸš§ è®¾è®¡ä¸­

## 1. æ¶æ„æ¦‚è¿°

**Factoria** é‡‡ç”¨5å±‚æ¶æ„è®¾è®¡ï¼Œä»ç”¨æˆ·ç•Œé¢åˆ°æ•°æ®å­˜å‚¨ï¼Œæ¯å±‚èŒè´£æ˜ç¡®ï¼Œæ¾è€¦åˆé«˜å†…èšã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 1: ç”¨æˆ·ç•Œé¢å±‚                        â”‚
â”‚  Web UI (React + Vite + Tailwind)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 2: API ç½‘å…³å±‚                        â”‚
â”‚  Vercel Serverless Functions                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 3: ä¸šåŠ¡é€»è¾‘å±‚                        â”‚
â”‚  NLUè§£æ | æ¨¡æ¿åŒ¹é… | ä»£ç ç”Ÿæˆ                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 4: éƒ¨ç½²å±‚                            â”‚
â”‚  Vercel Deployment API                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 5: æ•°æ®å±‚                            â”‚
â”‚  Supabase (PostgreSQL + Auth + Storage)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. Layer 1: ç”¨æˆ·ç•Œé¢å±‚

### 2.1 æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 7
- **æ ·å¼**: Tailwind CSS 4
- **çŠ¶æ€ç®¡ç†**: React Hooks (useState, useEffect)
- **éƒ¨ç½²**: Vercel

### 2.2 æ ¸å¿ƒç»„ä»¶

#### 2.2.1 ä¸»é¡µé¢ (App.tsx)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header: âœ¨ Factoria                â”‚
â”‚  Subtitle: è¯´å‡ºä½ çš„æƒ³æ³•              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  InputArea:                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Textarea: éœ€æ±‚è¾“å…¥             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [ğŸš€ ç”ŸæˆAPP] æŒ‰é’®                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Examples:                          â”‚
â”‚  [è¿½è¸ªå–æ°´é‡] [BMIè®¡ç®—å™¨] [...]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ResultArea: (ç”Ÿæˆåæ˜¾ç¤º)           â”‚
â”‚  âœ… APPç”ŸæˆæˆåŠŸ                     â”‚
â”‚  [æ‰“å¼€APP â†’]                        â”‚
â”‚  [æŸ¥çœ‹ä»£ç ] (æŠ˜å )                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.2 çŠ¶æ€ç®¡ç†
```typescript
interface AppState {
  prompt: string;           // ç”¨æˆ·è¾“å…¥
  loading: boolean;         // åŠ è½½çŠ¶æ€
  result: GenerateResult | null;  // ç”Ÿæˆç»“æœ
  error: string | null;     // é”™è¯¯ä¿¡æ¯
}

interface GenerateResult {
  success: boolean;
  appId: string;
  url: string;
  code: string;
  intent: Intent;
}
```

### 2.3 ç”¨æˆ·äº¤äº’æµç¨‹

```
ç”¨æˆ·è¾“å…¥éœ€æ±‚
  â†“
ç‚¹å‡»"ç”ŸæˆAPP"æŒ‰é’®
  â†“
æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼ˆ2-30ç§’ï¼‰
  â†“
ç”ŸæˆæˆåŠŸ
  â”œâ”€ æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
  â”œâ”€ æ˜¾ç¤º"æ‰“å¼€APP"é“¾æ¥
  â””â”€ æä¾›"æŸ¥çœ‹ä»£ç "é€‰é¡¹
```

### 2.4 å“åº”å¼è®¾è®¡
- **Desktop (>768px)**: å±…ä¸­å¸ƒå±€ï¼Œæœ€å¤§å®½åº¦ 768px
- **Mobile (<768px)**: å…¨å±å®½åº¦ï¼Œä¼˜åŒ–è§¦æ‘¸äº¤äº’

## 3. Layer 2: API ç½‘å…³å±‚

### 3.1 æŠ€æœ¯æ ˆ
- **è¿è¡Œæ—¶**: Vercel Serverless Functions (Node.js 18+)
- **æ¡†æ¶**: åŸç”Ÿ Node.js HTTP å¤„ç†
- **åè®®**: RESTful API over HTTPS

### 3.2 API ç«¯ç‚¹

#### 3.2.1 POST /api/generate
**åŠŸèƒ½**: ç”ŸæˆAPP
**è¯·æ±‚ä½“**:
```json
{
  "prompt": "è¿½è¸ªæ¯å¤©å–æ°´é‡",
  "userId": "user_123"  // å¯é€‰
}
```

**å“åº”**:
```json
{
  "success": true,
  "appId": "app_1771983308548",
  "url": "https://app-1771983308548.vercel.app",
  "code": "// Generated React code...",
  "intent": {
    "type": "tracker",
    "name": "å–æ°´é‡è¿½è¸ª",
    "fields": ["æ—¥æœŸ", "æ°´é‡(ml)"]
  }
}
```

**é”™è¯¯å“åº”**:
```json
{
  "success": false,
  "error": "Invalid prompt: prompt cannot be empty"
}
```

#### 3.2.2 GET /api/health
**åŠŸèƒ½**: å¥åº·æ£€æŸ¥
**å“åº”**:
```json
{
  "status": "ok",
  "timestamp": "2026-02-25T01:27:35.915Z",
  "version": "1.0.0"
}
```

### 3.3 ä¸­é—´ä»¶

#### 3.3.1 CORS é…ç½®
```typescript
res.setHeader('Access-Control-Allow-Origin', '*');
res.setHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');
res.setHeader('Access-Control-Allow-Headers', 'Content-Type');
```

#### 3.3.2 Rate Limiting
- **é™åˆ¶**: æ¯ä¸ª IP 10æ¬¡/å°æ—¶
- **å®ç°**: åŸºäº Vercel Edge Functions çš„ IP é™æµ
- **å“åº”**: 429 Too Many Requests

#### 3.3.3 Input Validation
```typescript
if (!prompt || prompt.trim().length === 0) {
  return res.status(400).json({
    success: false,
    error: 'Prompt is required'
  });
}

if (prompt.length > 500) {
  return res.status(400).json({
    success: false,
    error: 'Prompt too long (max 500 characters)'
  });
}
```

## 4. Layer 3: ä¸šåŠ¡é€»è¾‘å±‚

### 4.1 å­æ¨¡å—

#### 4.1.1 NLU è§£ææ¨¡å—
**èŒè´£**: å°†è‡ªç„¶è¯­è¨€éœ€æ±‚è½¬æ¢ä¸ºç»“æ„åŒ–æ„å›¾
**è¾“å…¥**: ç”¨æˆ·åŸå§‹è¾“å…¥ (string)
**è¾“å‡º**: Intent å¯¹è±¡
**ä¾èµ–**: GLM-5 API

#### 4.1.2 æ¨¡æ¿åŒ¹é…æ¨¡å—
**èŒè´£**: æ ¹æ®æ„å›¾é€‰æ‹©åˆé€‚çš„æ¨¡æ¿
**è¾“å…¥**: Intent å¯¹è±¡
**è¾“å‡º**: æ¨¡æ¿é…ç½®
**ä¾èµ–**: æ¨¡æ¿åº“

#### 4.1.3 ä»£ç ç”Ÿæˆæ¨¡å—
**èŒè´£**: å¡«å……æ¨¡æ¿ç”Ÿæˆå®Œæ•´ä»£ç 
**è¾“å…¥**: Intent + æ¨¡æ¿é…ç½®
**è¾“å‡º**: å®Œæ•´çš„ React ä»£ç 
**ä¾èµ–**: æ¨¡æ¿å¼•æ“

### 4.2 å¤„ç†æµç¨‹

```
ç”¨æˆ·è¾“å…¥ (prompt)
  â†“
NLU è§£æ
  â”œâ”€ æ„å›¾è¯†åˆ« (type)
  â”œâ”€ å‚æ•°æå– (fields, features)
  â””â”€ ç”Ÿæˆ Intent å¯¹è±¡
  â†“
æ¨¡æ¿åŒ¹é…
  â”œâ”€ æ ¹æ® type é€‰æ‹©åŸºç¡€æ¨¡æ¿
  â”œâ”€ æ ¹æ® features æ·»åŠ åŠŸèƒ½æ¨¡å—
  â””â”€ ç”Ÿæˆ TemplateConfig
  â†“
ä»£ç ç”Ÿæˆ
  â”œâ”€ å‚æ•°å¡«å……
  â”œâ”€ ä»£ç ç»„è£…
  â””â”€ ä»£ç ä¼˜åŒ–
  â†“
ç”Ÿæˆç»“æœ (code)
```

## 5. Layer 4: éƒ¨ç½²å±‚

### 5.1 æŠ€æœ¯æ ˆ
- **å¹³å°**: Vercel
- **API**: Vercel REST API
- **è®¤è¯**: Bearer Token

### 5.2 éƒ¨ç½²æµç¨‹

```
ç”Ÿæˆçš„ä»£ç 
  â†“
åˆ›å»ºä¸´æ—¶é¡¹ç›®ç›®å½•
  â”œâ”€ package.json
  â”œâ”€ vite.config.ts
  â”œâ”€ index.html
  â”œâ”€ src/
  â”‚   â”œâ”€ App.tsx (ç”Ÿæˆçš„ä»£ç )
  â”‚   â””â”€ main.tsx
  â””â”€ manifest.json (PWA)
  â†“
è°ƒç”¨ Vercel API åˆ›å»ºéƒ¨ç½²
  â†“
ç­‰å¾…éƒ¨ç½²å®Œæˆ (30-60ç§’)
  â†“
è·å–éƒ¨ç½² URL
  â†“
è¿”å›ç»™ç”¨æˆ·
```

### 5.3 éƒ¨ç½²é…ç½®

#### 5.3.1 package.json
```json
{
  "name": "generated-app-{appId}",
  "version": "1.0.0",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.0.0",
    "react-dom": "^18.0.0"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.0.0",
    "typescript": "^5.0.0",
    "vite": "^7.0.0"
  }
}
```

#### 5.3.2 vite.config.ts
```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
})
```

#### 5.3.3 manifest.json (PWA)
```json
{
  "name": "{appName}",
  "short_name": "{appName}",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#8B5CF6"
}
```

## 6. Layer 5: æ•°æ®å±‚

### 6.1 æŠ€æœ¯æ ˆ
- **æ•°æ®åº“**: Supabase (PostgreSQL)
- **è®¤è¯**: Supabase Auth (å¯é€‰)
- **å­˜å‚¨**: Supabase Storage (å¯é€‰)

### 6.2 æ•°æ®è¡¨è®¾è®¡

#### 6.2.1 apps è¡¨
```sql
CREATE TABLE apps (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id),
  prompt TEXT NOT NULL,
  intent JSONB NOT NULL,
  template VARCHAR(50) NOT NULL,
  code TEXT NOT NULL,
  vercel_url VARCHAR(255),
  status VARCHAR(20) DEFAULT 'generating',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### 6.2.2 ç´¢å¼•
```sql
CREATE INDEX idx_apps_user_id ON apps(user_id);
CREATE INDEX idx_apps_status ON apps(status);
CREATE INDEX idx_apps_created_at ON apps(created_at DESC);
```

### 6.3 æ•°æ®è®¿é—®æ¨¡å¼

#### 6.3.1 å†™å…¥
- åˆ›å»ºæ–° APP è®°å½•
- æ›´æ–°éƒ¨ç½²çŠ¶æ€
- å­˜å‚¨ç”Ÿæˆç»“æœ

#### 6.3.2 è¯»å–
- æŸ¥è¯¢ç”¨æˆ·å†å²
- ç»Ÿè®¡åˆ†æ
- é”™è¯¯æ’æŸ¥

## 7. å±‚é—´é€šä¿¡

### 7.1 åŒæ­¥è°ƒç”¨
- Layer 1 â†’ Layer 2: HTTP/HTTPS
- Layer 2 â†’ Layer 3: å‡½æ•°è°ƒç”¨
- Layer 3 â†’ Layer 4: HTTP API
- Layer 3 â†’ Layer 5: PostgreSQL è¿æ¥

### 7.2 å¼‚æ­¥å¤„ç†ï¼ˆæœªæ¥ï¼‰
- ä»£ç ç”Ÿæˆé˜Ÿåˆ—
- éƒ¨ç½²çŠ¶æ€è½®è¯¢
- Webhook é€šçŸ¥

## 8. æ‰©å±•æ€§è®¾è®¡

### 8.1 æ°´å¹³æ‰©å±•
- **Serverless**: è‡ªåŠ¨æ‰©å±•ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†
- **æ•°æ®åº“**: Supabase æ”¯æŒè¯»å†™åˆ†ç¦»
- **CDN**: Vercel è‡ªåŠ¨å…¨çƒ CDN

### 8.2 åŠŸèƒ½æ‰©å±•
- **æ’ä»¶ç³»ç»Ÿ**: æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿
- **API æ‰©å±•**: æ–°å¢ API ç«¯ç‚¹
- **é›†æˆæ‰©å±•**: ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ

## 9. æ¶æ„å†³ç­–è®°å½• (ADR)

### ADR-001: ä¸ºä»€ä¹ˆé€‰æ‹© Vercel?
- âœ… Serverless æ¶æ„ï¼Œè‡ªåŠ¨æ‰©å±•
- âœ… å†…ç½® CI/CDï¼Œéƒ¨ç½²ç®€å•
- âœ… å…¨çƒ CDNï¼Œæ€§èƒ½ä¼˜ç§€
- âœ… å…è´¹ Tier è¶³å¤Ÿ MVP ä½¿ç”¨

### ADR-002: ä¸ºä»€ä¹ˆé€‰æ‹© Supabase?
- âœ… PostgreSQLï¼Œæˆç†Ÿç¨³å®š
- âœ… å†…ç½®è®¤è¯å’Œå­˜å‚¨
- âœ… å®æ—¶è®¢é˜…èƒ½åŠ›ï¼ˆæœªæ¥å¯ç”¨ï¼‰
- âœ… å…è´¹Tier è¶³å¤Ÿ MVP ä½¿ç”¨

### ADR-003: ä¸ºä»€ä¹ˆé€‰æ‹© GLM-5?
- âœ… ä¸­æ–‡ç†è§£èƒ½åŠ›å¼º
- âœ… ä»£ç ç”Ÿæˆè´¨é‡é«˜
- âœ… æˆæœ¬ç›¸å¯¹è¾ƒä½
- âœ… API ç¨³å®šå¯é 

## 10. æ¶æ„å›¾ï¼ˆå®Œæ•´ç‰ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç”¨æˆ·æµè§ˆå™¨                               â”‚
â”‚  React App (http://localhost:5173)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTPS
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Vercel Edge Network                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ /api/generate (Serverless Function)                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ Input Validation                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Rate Limiting                                          â”‚  â”‚
â”‚  â”‚  â””â”€ Request Routing                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä¸šåŠ¡é€»è¾‘å¤„ç†                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  NLU è§£æ       â”‚â†’â”‚  æ¨¡æ¿åŒ¹é…       â”‚â†’â”‚  ä»£ç ç”Ÿæˆ       â”‚  â”‚
â”‚  â”‚  (GLM-5 API)    â”‚  â”‚  (Template Lib) â”‚  â”‚  (Code Engine)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚                 â”‚
             â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercel Deployment   â”‚  â”‚         Supabase                      â”‚
â”‚  API                 â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”œâ”€ åˆ›å»ºé¡¹ç›®         â”‚  â”‚  â”‚  PostgreSQL Database           â”‚  â”‚
â”‚  â”œâ”€ ä¸Šä¼ ä»£ç          â”‚  â”‚  â”‚  â”œâ”€ apps è¡¨                    â”‚  â”‚
â”‚  â”œâ”€ è§¦å‘éƒ¨ç½²         â”‚  â”‚  â”‚  â”œâ”€ users è¡¨ (future)          â”‚  â”‚
â”‚  â””â”€ è¿”å› URL         â”‚  â”‚  â”‚  â””â”€ templates è¡¨ (future)      â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                          â”‚  Auth Service (future)                â”‚
                          â”‚  Storage Service (future)             â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**ä¸‹ä¸€æ­¥**: è¯¦ç»†è®¾è®¡ API è§„èŒƒ â†’ [02-API-DESIGN.md](./02-API-DESIGN.md)
